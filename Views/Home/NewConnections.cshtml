<style>
.shrink{
    height: 96px;
}
.avatar {
    box-sizing: border-box;
    height: 96px;
    width: 96px;
    border-radius: 50%;
    position: relative;
    top: 36px;
}
.description {
    white-space: pre;
}
</style>

@{
    ViewData["Title"] = "Home";
}

@model List<User>; 

<ul class="nav nav-tabs mb-5">
    <li class="nav-item">
        <a class="nav-link" href="/user/@ViewBag.sessionId">My Profile</a>
    </li>
    <li class="nav-item">
        <a class="nav-link active" href="/connections/new">New Connections</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" href="/user/@ViewBag.sessionId/edit">Edit Profile</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" href="/logout">Logout</a>
    </li>
</ul>

<div class="card">
    <div class="card-header bg-dark text-white">
        <h3 class="my-2">People you may know:</h3>
    </div>
    <div class="card-body">
        <div class="row">
            @foreach (User u in Model)
            {
                <div class="col-lg-3 col-md-4 col-sm-6">
                    <div class="card">
                        <div class="card-header bg-info shrink">
                            @{
                                if(u.Avatar == null) {
                                    <img src="~/img/default.webp" alt="user avatar" class="avatar img-thumbnail" />
                                } else {
                                    var src = "data:image;base64," + Convert.ToBase64String(u.Avatar);
                                    <img src="@src" alt="user avatar" class="avatar img-thumbnail" />
                                }
                            }
                        </div>
                        <div class="card-body">
                            <h4 class="mt-5 mb-2">@u.Name</h4>
                            <p>@u.Followers.Count Connection(s)</p>
                            <a class="btn btn-outline-info" href="/connect/@u.UserId?prev=connections/new">Get Connected</a>
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>
</div>